"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[17159],{10191:(n,e,o)=>{o.r(e),o.d(e,{assets:()=>l,contentTitle:()=>d,default:()=>h,frontMatter:()=>r,metadata:()=>s,toc:()=>a});const s=JSON.parse('{"id":"troubleshooting/troubleshooting-podman-on-windows","title":"Podman on Windows","description":"How to investigate when Podman does not work as expected.","source":"@site/docs/troubleshooting/troubleshooting-podman-on-windows.md","sourceDirName":"troubleshooting","slug":"/troubleshooting/troubleshooting-podman-on-windows","permalink":"/docs/troubleshooting/troubleshooting-podman-on-windows","draft":false,"unlisted":false,"editUrl":"https://github.com/podman-desktop/podman-desktop/tree/main/website/docs/troubleshooting/troubleshooting-podman-on-windows.md","tags":[],"version":"current","sidebarPosition":20,"frontMatter":{"sidebar_position":20,"title":"Podman on Windows","description":"How to investigate when Podman does not work as expected."},"sidebar":"mySidebar","previous":{"title":"Podman","permalink":"/docs/troubleshooting/troubleshooting-podman"},"next":{"title":"Podman on MacOS","permalink":"/docs/troubleshooting/troubleshooting-podman-on-macos"}}');var i=o(62540),t=o(43023);const r={sidebar_position:20,title:"Podman on Windows",description:"How to investigate when Podman does not work as expected."},d="Troubleshooting Podman on Windows",l={},a=[{value:"Deleting a corrupted Podman Machine",id:"deleting-a-corrupted-podman-machine",level:2},{value:"Issue",id:"issue",level:4},{value:"Workaround",id:"workaround",level:4},{value:"Additional resources",id:"additional-resources",level:4},{value:"The terminal session attaches to Podman Desktop when launching it from the command line",id:"the-terminal-session-attaches-to-podman-desktop-when-launching-it-from-the-command-line",level:2},{value:"Issue",id:"issue-1",level:4},{value:"Workaround",id:"workaround-1",level:4},{value:"When the host is behind a VPN, Podman cannot access network resources",id:"when-the-host-is-behind-a-vpn-podman-cannot-access-network-resources",level:2},{value:"Solution",id:"solution",level:4},{value:"Older WSL versions might lead to networking issues",id:"older-wsl-versions-might-lead-to-networking-issues",level:2},{value:"Solution",id:"solution-1",level:4},{value:"Windows 10 Enterprise LTSC version 21H2: Podman Desktop is unable to detect WSL2 machine",id:"windows-10-enterprise-ltsc-version-21h2-podman-desktop-is-unable-to-detect-wsl2-machine",level:2},{value:"Solution: Enable Podman Desktop setup to run smoothly",id:"solution-enable-podman-desktop-setup-to-run-smoothly",level:4}];function c(n){const e={a:"a",code:"code",em:"em",h1:"h1",h2:"h2",h4:"h4",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,t.R)(),...n.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(e.header,{children:(0,i.jsx)(e.h1,{id:"troubleshooting-podman-on-windows",children:"Troubleshooting Podman on Windows"})}),"\n",(0,i.jsx)(e.p,{children:"You can find here troubleshooting help for issues specific to Windows."}),"\n",(0,i.jsx)(e.h2,{id:"deleting-a-corrupted-podman-machine",children:"Deleting a corrupted Podman Machine"}),"\n",(0,i.jsx)(e.h4,{id:"issue",children:"Issue"}),"\n",(0,i.jsxs)(e.ol,{children:["\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsx)(e.p,{children:"You are not able to stop your Podman Machine."}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-shell-session",children:"$ podman machine stop\n"})}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsx)(e.p,{children:"The Logs contain this error:"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-shell-session",children:"Error: Error stopping sysd: exit status 1\n"})}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(e.h4,{id:"workaround",children:"Workaround"}),"\n",(0,i.jsxs)(e.ol,{children:["\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsx)(e.p,{children:"To display the active Windows Subsystem for Linux (WSL) distribution list: in the terminal, run:"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-shell-session",children:"$ wsl --list\n"})}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsxs)(e.p,{children:["The command returns the list of active WSL distributions. Identify your Podman Machine in the list, such as ",(0,i.jsx)(e.code,{children:"podman-machine-default"}),"."]}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsxs)(e.p,{children:["To stop, and uninstall your Podman Machine: in the terminal, replace ",(0,i.jsx)(e.code,{children:"podman-machine-default"})," by your Podman machine name, and run:"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-shell-session",children:"$ wsl --unregister podman-machine-default\n"})}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(e.h4,{id:"additional-resources",children:"Additional resources"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:(0,i.jsx)(e.a,{href:"https://learn.microsoft.com/en-us/windows/wsl/basic-commands#unregister-or-uninstall-a-linux-distribution",children:"WSL documentation: Uninstall a Linux distribution"})}),"\n"]}),"\n",(0,i.jsx)(e.h2,{id:"the-terminal-session-attaches-to-podman-desktop-when-launching-it-from-the-command-line",children:"The terminal session attaches to Podman Desktop when launching it from the command line"}),"\n",(0,i.jsx)(e.h4,{id:"issue-1",children:"Issue"}),"\n",(0,i.jsxs)(e.ol,{children:["\n",(0,i.jsx)(e.li,{children:"When you start Podman Desktop from the command line in Windows the terminal session attaches to it."}),"\n",(0,i.jsx)(e.li,{children:"When you quit the terminal, it kills Podman Desktop."}),"\n"]}),"\n",(0,i.jsx)(e.h4,{id:"workaround-1",children:"Workaround"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:["Set the environment variable ",(0,i.jsx)(e.code,{children:"ELECTRON_NO_ATTACH_CONSOLE"})," to true before launching Podman Desktop."]}),"\n"]}),"\n",(0,i.jsx)(e.h2,{id:"when-the-host-is-behind-a-vpn-podman-cannot-access-network-resources",children:"When the host is behind a VPN, Podman cannot access network resources"}),"\n",(0,i.jsxs)(e.p,{children:["When the host is behind a VPN, Podman might fail to access network resources, and display errors such as ",(0,i.jsx)(e.em,{children:"Temporary failure in name resolution"}),"."]}),"\n",(0,i.jsx)(e.h4,{id:"solution",children:"Solution"}),"\n",(0,i.jsxs)(e.p,{children:["See ",(0,i.jsx)(e.a,{href:"/docs/proxy",children:"Accessing resources behind a VPN with Podman on Windows"}),"."]}),"\n",(0,i.jsx)(e.h2,{id:"older-wsl-versions-might-lead-to-networking-issues",children:"Older WSL versions might lead to networking issues"}),"\n",(0,i.jsxs)(e.p,{children:["Older versions of WSL might cause networking issues, such as the ",(0,i.jsx)(e.code,{children:"Get-NetTCPConnection"})," error, indicating that the WSL loopback forwarding facility is not functioning correctly. Recent versions of WSL do not have this issue."]}),"\n",(0,i.jsx)(e.h4,{id:"solution-1",children:"Solution"}),"\n",(0,i.jsxs)(e.ol,{children:["\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsx)(e.p,{children:"Update Windows to either the 21H1, 21H2, or 22H2 version of Windows 10, or to the 21H1 version of Windows 11, or greater."}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsx)(e.p,{children:"Update WSL:"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-shell-session",children:"wsl --update\n"})}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsx)(e.p,{children:"Optionally, delete your Podman machine, and create a new one."}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(e.h2,{id:"windows-10-enterprise-ltsc-version-21h2-podman-desktop-is-unable-to-detect-wsl2-machine",children:"Windows 10 Enterprise LTSC version 21H2: Podman Desktop is unable to detect WSL2 machine"}),"\n",(0,i.jsxs)(e.p,{children:["On a Windows 10 LTSC version, running the ",(0,i.jsx)(e.code,{children:"wsl --install --no-distribution"})," command does not work, and the Podman Desktop setup does not run smoothly."]}),"\n",(0,i.jsx)(e.p,{children:"You must install a specific Windows Subsystem for Linux (WSL) distribution to make the Podman Desktop setup run smoothly. After setting up Podman Desktop, you can unintsall the WSL distribution."}),"\n",(0,i.jsx)(e.h4,{id:"solution-enable-podman-desktop-setup-to-run-smoothly",children:"Solution: Enable Podman Desktop setup to run smoothly"}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:(0,i.jsx)(e.em,{children:"Windows 11 or later version"})})}),"\n",(0,i.jsxs)(e.ol,{children:["\n",(0,i.jsxs)(e.li,{children:["Run the ",(0,i.jsx)(e.code,{children:"wsl --update"})," command to update the WSL kernel."]}),"\n",(0,i.jsxs)(e.li,{children:["Run the ",(0,i.jsx)(e.code,{children:"wsl --install --no-distribution"})," command to not install any WSL distribution."]}),"\n",(0,i.jsx)(e.li,{children:"Restart your machine."}),"\n"]}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:(0,i.jsx)(e.em,{children:"Windows 10 LTSC version"})})}),"\n",(0,i.jsxs)(e.ol,{children:["\n",(0,i.jsxs)(e.li,{children:["Run the ",(0,i.jsx)(e.code,{children:"wsl --update"})," command."]}),"\n",(0,i.jsxs)(e.li,{children:["Run the ",(0,i.jsx)(e.code,{children:"wsl --install -d <distro>"})," command to install a specific WSL distribution.","\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:["Replace ",(0,i.jsx)(e.code,{children:"distro"})," with any official WSL distribution, such as ",(0,i.jsx)(e.code,{children:"ubuntu-24.04"}),"."]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(e.li,{children:"Restart your machine."}),"\n",(0,i.jsxs)(e.li,{children:["(Optional): Run the ",(0,i.jsx)(e.code,{children:"wsl --unregister <distro>"})," to uninstall the WSL distribution."]}),"\n"]})]})}function h(n={}){const{wrapper:e}={...(0,t.R)(),...n.components};return e?(0,i.jsx)(e,{...n,children:(0,i.jsx)(c,{...n})}):c(n)}},43023:(n,e,o)=>{o.d(e,{R:()=>r,x:()=>d});var s=o(63696);const i={},t=s.createContext(i);function r(n){const e=s.useContext(t);return s.useMemo((function(){return"function"==typeof n?n(e):{...e,...n}}),[e,n])}function d(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(i):n.components||i:r(n.components),s.createElement(t.Provider,{value:e},n.children)}}}]);